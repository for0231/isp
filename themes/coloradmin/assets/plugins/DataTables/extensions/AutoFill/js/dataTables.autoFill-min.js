!function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function($){return t($,window,document)}):"object"==typeof exports?module.exports=function(e,$){return e||(e=window),$&&$.fn.dataTable||($=require("datatables.net")(e,$).$),t($,e,e.document)}:t(jQuery,window,document)}(function($,t,e,o){"use strict";var i=$.fn.dataTable,n=0,l=function(t,e){if(!i.versionCheck||!i.versionCheck("1.10.8"))throw"Warning: AutoFill requires DataTables 1.10.8 or greater";this.c=$.extend(!0,{},i.defaults.autoFill,l.defaults,e),this.s={dt:new i.Api(t),namespace:".autoFill"+n++,scroll:{},scrollInterval:null,handle:{height:0,width:0}},this.dom={handle:$('<div class="dt-autofill-handle"/>'),select:{top:$('<div class="dt-autofill-select top"/>'),right:$('<div class="dt-autofill-select right"/>'),bottom:$('<div class="dt-autofill-select bottom"/>'),left:$('<div class="dt-autofill-select left"/>')},background:$('<div class="dt-autofill-background"/>'),list:$('<div class="dt-autofill-list">'+this.s.dt.i18n("autoFill.info","")+"<ul/></div>"),dtScroll:null,offsetParent:null},this._constructor()};return $.extend(l.prototype,{_constructor:function(){var t=this,o=this.s.dt,i=$("div.dataTables_scrollBody",this.s.dt.table().container());i.length&&(this.dom.dtScroll=i,"static"===i.css("position")&&i.css("position","relative")),this._focusListener(),this.dom.handle.on("mousedown",function(e){return t._mousedown(e),!1}),o.on("destroy.autoFill",function(){o.off(".autoFill"),$(o.table().body()).off(t.s.namespace),$(e.body).off(t.s.namespace)})},_attach:function(t){var e=this.s.dt,o=e.cell(t).index(),i=this.dom.handle,n=this.s.handle;if(!o||-1===e.columns(this.c.columns).indexes().indexOf(o.column))return void this._detach();this.dom.offsetParent||(this.dom.offsetParent=$(t).offsetParent()),n.height&&n.width||(i.appendTo("body"),n.height=i.outerHeight(),n.width=i.outerWidth());var l=$(t).position();this.dom.attachedTo=t,i.css({top:l.top+t.offsetHeight-n.height,left:l.left+t.offsetWidth-n.width}).appendTo(this.dom.offsetParent)},_actionSelector:function(t){var e=this,o=this.s.dt,i=l.actions,n=[];if($.each(i,function(e,i){i.available(o,t)&&n.push(e)}),1===n.length&&!1===this.c.alwaysAsk){var s=i[n[0]].execute(o,t);this._update(s,t)}else{var a=this.dom.list.children("ul").empty();n.push("cancel"),$.each(n,function(n,s){a.append($("<li/>").append('<div class="dt-autofill-question">'+i[s].option(o,t)+"<div>").append($('<div class="dt-autofill-button">').append($('<button class="'+l.classes.btn+'">'+o.i18n("autoFill.button","&gt;")+"</button>").on("click",function(){var n=i[s].execute(o,t,$(this).closest("li"));e._update(n,t),e.dom.background.remove(),e.dom.list.remove()}))))}),this.dom.background.appendTo("body"),this.dom.list.appendTo("body"),this.dom.list.css("margin-top",this.dom.list.outerHeight()/2*-1)}},_detach:function(){this.dom.attachedTo=null,this.dom.handle.detach()},_drawSelection:function(t,e){var o=this.s.dt,i=this.s.start,n=$(this.dom.start),l=$(t),s={row:o.rows({page:"current"}).nodes().indexOf(l.parent()[0]),column:l.index()};if(o.cell(l).any()&&-1!==o.columns(this.c.columns).indexes().indexOf(s.column)){this.s.end=s;var a,r,d,c,u,h;a=i.row<s.row?n:l,r=i.row<s.row?l:n,d=i.column<s.column?n:l,c=i.column<s.column?l:n,a=a.position().top,d=d.position().left,u=r.position().top+r.outerHeight()-a,h=c.position().left+c.outerWidth()-d;var f=this.dom.dtScroll;f&&(a+=f.scrollTop(),d+=f.scrollLeft());var p=this.dom.select;p.top.css({top:a,left:d,width:h}),p.left.css({top:a,left:d,height:u}),p.bottom.css({top:a+u,left:d,width:h}),p.right.css({top:a,left:d+h,height:u})}},_editor:function(t){var e=this.s.dt,i=this.c.editor;if(i){for(var n={},l=[],s=i.fields(),a=0,r=t.length;a<r;a++)for(var d=0,c=t[a].length;d<c;d++){var u=t[a][d],h=e.settings()[0].aoColumns[u.index.column],f=h.editField;if(f===o)for(var p=h.mData,m=0,v=s.length;m<v;m++){var g=i.field(s[m]);if(g.dataSrc()===p){f=g.name();break}}if(!f)throw"Could not automatically determine field data. Please see https://datatables.net/tn/11";n[f]||(n[f]={});var b=e.row(u.index.row).id();n[f][b]=u.set,l.push(u.index)}i.bubble(l,!1).multiSet(n).submit()}},_emitEvent:function(t,e){this.s.dt.iterator("table",function(o,i){$(o.nTable).triggerHandler(t+".dt",e)})},_focusListener:function(){var t=this,o=this.s.dt,i=this.s.namespace,n=null!==this.c.focus?this.c.focus:o.settings()[0].keytable?"focus":"hover";"focus"===n?o.on("key-focus.autoFill",function(e,o,i){t._attach(i.node())}).on("key-blur.autoFill",function(e,o,i){t._detach()}):"click"===n?($(o.table().body()).on("click"+i,"td, th",function(e){t._attach(this)}),$(e.body).on("click"+i,function(e){$(e.target).parents().filter(o.table().body()).length||t._detach()})):$(o.table().body()).on("mouseenter"+i,"td, th",function(e){t._attach(this)}).on("mouseleave"+i,function(e){$(e.relatedTarget).hasClass("dt-autofill-handle")||t._detach()})},_mousedown:function(o){var i=this,n=this.s.dt;this.dom.start=this.dom.attachedTo,this.s.start={row:n.rows({page:"current"}).nodes().indexOf($(this.dom.start).parent()[0]),column:$(this.dom.start).index()},$(e.body).on("mousemove.autoFill",function(t){i._mousemove(t)}).on("mouseup.autoFill",function(t){i._mouseup(t)});var l=this.dom.select,s=$(this.s.dt.table().body()).offsetParent();l.top.appendTo(s),l.left.appendTo(s),l.right.appendTo(s),l.bottom.appendTo(s),this._drawSelection(this.dom.start,o),this.dom.handle.css("display","none");var a=this.dom.dtScroll;this.s.scroll={windowHeight:$(t).height(),windowWidth:$(t).width(),dtTop:a?a.offset().top:null,dtLeft:a?a.offset().left:null,dtHeight:a?a.outerHeight():null,dtWidth:a?a.outerWidth():null}},_mousemove:function(t){var e=this,o=this.s.dt,i=t.target.nodeName.toLowerCase();"td"!==i&&"th"!==i||(this._drawSelection(t.target,t),this._shiftScroll(t))},_mouseup:function(t){$(e.body).off(".autoFill");var o=this.s.dt,i=this.dom.select;i.top.remove(),i.left.remove(),i.right.remove(),i.bottom.remove(),this.dom.handle.css("display","block");var n=this.s.start,l=this.s.end;if(n.row!==l.row||n.column!==l.column){for(var s=this._range(n.row,l.row),a=this._range(n.column,l.column),r=[],d=0;d<s.length;d++)r.push($.map(a,function(t){var e=o.cell(":eq("+s[d]+")",t+":visible",{page:"current"});return{cell:e,data:e.data(),index:e.index()}}));this._actionSelector(r)}},_range:function(t,e){var o=[],i;if(t<=e)for(i=t;i<=e;i++)o.push(i);else for(i=t;i>=e;i--)o.push(i);return o},_shiftScroll:function(t){var o=this,i=this.s.dt,n=this.s.scroll,l=!1,s=5,a=65,r=t.pageY-e.body.scrollTop,d=t.pageX-e.body.scrollLeft,c,u,h,f;r<65?c=-5:r>n.windowHeight-65&&(c=5),d<65?u=-5:d>n.windowWidth-65&&(u=5),null!==n.dtTop&&t.pageY<n.dtTop+65?h=-5:null!==n.dtTop&&t.pageY>n.dtTop+n.dtHeight-65&&(h=5),null!==n.dtLeft&&t.pageX<n.dtLeft+65?f=-5:null!==n.dtLeft&&t.pageX>n.dtLeft+n.dtWidth-65&&(f=5),c||u||h||f?(n.windowVert=c,n.windowHoriz=u,n.dtVert=h,n.dtHoriz=f,l=!0):this.s.scrollInterval&&(clearInterval(this.s.scrollInterval),this.s.scrollInterval=null),!this.s.scrollInterval&&l&&(this.s.scrollInterval=setInterval(function(){if(n.windowVert&&(e.body.scrollTop+=n.windowVert),n.windowHoriz&&(e.body.scrollLeft+=n.windowHoriz),n.dtVert||n.dtHoriz){var t=o.dom.dtScroll[0];n.dtVert&&(t.scrollTop+=n.dtVert),n.dtHoriz&&(t.scrollLeft+=n.dtHoriz)}},20))},_update:function(t,e){if(!1!==t){var o=this.s.dt,i;this._emitEvent("preAutoFill",[o,e]),this._editor(e);if(null!==this.c.update?this.c.update:!this.c.editor){for(var n=0,l=e.length;n<l;n++)for(var s=0,a=e[n].length;s<a;s++)i=e[n][s],i.cell.data(i.set);o.draw(!1)}this._emitEvent("autoFill",[o,e])}}}),l.actions={increment:{available:function(t,e){return $.isNumeric(e[0][0].data)},option:function(t,e){return t.i18n("autoFill.increment",'Increment / decrement each cell by: <input type="number" value="1">')},execute:function(t,e,o){for(var i=1*e[0][0].data,n=1*$("input",o).val(),l=0,s=e.length;l<s;l++)for(var a=0,r=e[l].length;a<r;a++)e[l][a].set=i,i+=n}},fill:{available:function(t,e){return!0},option:function(t,e){return t.i18n("autoFill.fill","Fill all cells with <i>"+e[0][0].data+"</i>")},execute:function(t,e,o){for(var i=e[0][0].data,n=0,l=e.length;n<l;n++)for(var s=0,a=e[n].length;s<a;s++)e[n][s].set=i}},fillHorizontal:{available:function(t,e){return e.length>1&&e[0].length>1},option:function(t,e){return t.i18n("autoFill.fillHorizontal","Fill cells horizontally")},execute:function(t,e,o){for(var i=0,n=e.length;i<n;i++)for(var l=0,s=e[i].length;l<s;l++)e[i][l].set=e[i][0].data}},fillVertical:{available:function(t,e){return e.length>1&&e[0].length>1},option:function(t,e){return t.i18n("autoFill.fillVertical","Fill cells vertically")},execute:function(t,e,o){for(var i=0,n=e.length;i<n;i++)for(var l=0,s=e[i].length;l<s;l++)e[i][l].set=e[0][l].data}},cancel:{available:function(){return!1},option:function(t){return t.i18n("autoFill.cancel","Cancel")},execute:function(){return!1}}},l.version="2.1.0",l.defaults={alwaysAsk:!1,focus:null,columns:"",update:null,editor:null},l.classes={btn:"btn"},$(e).on("preInit.dt.autofill",function(t,e,o){if("dt"===t.namespace){var n=e.oInit.autoFill,s=i.defaults.autoFill;if(n||s){var a=$.extend({},n,s);!1!==n&&new l(e,a)}}}),i.AutoFill=l,i.AutoFill=l,l});